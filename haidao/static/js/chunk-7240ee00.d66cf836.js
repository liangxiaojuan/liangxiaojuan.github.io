(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7240ee00"],{"0ccd":function(t,e,n){},"612f":function(t,e,n){"use strict";n.r(e);var l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-box"},[n("div",{attrs:{id:"container"}}),t._v(" "),t.overlays.length>0?n("div",{staticClass:"info"},[t._v("你选择的坐标组为"+t._s(t.overlays))]):t._e(),t._v(" "),n("el-button-group",{staticClass:"button-group"},[n("el-button",{attrs:{icon:"el-icon-edit"},on:{click:t.marker}},[t._v("新增")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-share"},on:{click:function(e){t.show1=!0}}},[t._v("资源列表")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-delete",id:"clear"},on:{click:function(e){t.show=!1,t.show1=!1,t.close()}}},[t._v("资源管理")])],1),t._v(" "),n("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleOpen,close:t.handleClose}},[n("el-menu-item",{attrs:{index:"1"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("海岛资源")])]),t._v(" "),n("el-menu-item",{attrs:{index:"2"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("海域功能区划")])]),t._v(" "),n("el-menu-item",{attrs:{index:"3"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("存量围填海")])]),t._v(" "),n("el-menu-item",{attrs:{index:"4"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("海岸线")])])],1),t._v(" "),t.tableData.length>0?n("el-card",{staticClass:"box-card_resources"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("资源位置编辑")])]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini",height:"250px","cell-style":t.cellStyle}},[n("el-table-column",{attrs:{type:"index",label:"编号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"lng",label:"北纬"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isSet?n("div",{staticClass:"lng-div"},[n("el-input",{attrs:{size:"mini",width:"20px"},model:{value:e.row.lngdu,callback:function(n){t.$set(e.row,"lngdu",n)},expression:"scope.row.lngdu"}}),t._v("°\n            "),n("el-input",{attrs:{size:"mini"},model:{value:e.row.lngfen,callback:function(n){t.$set(e.row,"lngfen",n)},expression:"scope.row.lngfen"}}),t._v("′\n          ")],1):n("div",{staticClass:"lng-div"},[t._v("\n            "+t._s(e.row.lngdu)+"°\n            "+t._s(e.row.lngfen)+"′\n          ")])]}}],null,!1,856279285)}),t._v(" "),n("el-table-column",{attrs:{prop:"lat",label:"东经"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isSet?n("div",{staticClass:"lng-div"},[n("el-input",{attrs:{size:"mini",width:"20px"},model:{value:e.row.latdu,callback:function(n){t.$set(e.row,"latdu",n)},expression:"scope.row.latdu"}}),t._v("°\n            "),n("el-input",{attrs:{size:"mini"},model:{value:e.row.latfen,callback:function(n){t.$set(e.row,"latfen",n)},expression:"scope.row.latfen"}}),t._v("′\n          ")],1):n("div",{staticClass:"lng-div"},[t._v("\n            "+t._s(e.row.latdu)+"°\n            "+t._s(e.row.latfen)+"′\n          ")])]}}],null,!1,3386320245)}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"操作",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEait(e.row,e.$index)}}},[t._v(t._s(e.row.isSet?"完成":"编辑"))]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDelete(e.row,e.$index)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:t.editData}},[t._v("保存")])]}}],null,!1,4222922259)})],1)],1):t._e()],1)},a=[],i=(n("9ab5"),n("8f9b")),o=n.n(i),s=new o.a.AMapManager,r={name:"Documentation",data:function(){return{amapManager:s,zoom:12,type:"1",show:!1,show1:!1,overlays:[],cellStyle:{height:"20px",padding:"5px 0"},map:"",polylineEditor:"",tableData:[],mouseTool:"",maps:[],maps1:[],maps2:[],maps3:[],maps4:[],index:0,center:[121.5273285,31.21515044],activeIndex:0}},mounted:function(){var t=this,e=new AMap.Scale({visible:!0}),n=(new AMap.ToolBar({visible:!0}),new AMap.OverView({visible:!0})),l=new AMap.Map("container",{center:[109.667664,19.136931],zoom:9,resizeEnable:!0});l.addControl(e),l.addControl(n);var a=new AMap.MouseTool(l);this.mouseTool=a,console.log(l);var i=[];a.on("draw",function(t){i.push(t.obj)});function o(t){}AMap.event.addListener(a,"draw",function(e){e.obj.index=t.index,t.activeIndex=t.index,t.index++,t.initTable(e.obj);var n,i=new AMap.ContextMenu;e.obj.on("rightclick",function(e){i.open(l,e.lnglat),t.polylineEditor&&t.editData(),t.activeIndex=e.target.index}),e.obj.on("click",function(t){console.log(t)}),a.close(),"3"!==t.type&&t.map.plugin(["AMap.PolyEditor"],function(){n=new AMap.PolyEditor(t.map,e.obj),n.open(),n.on("adjust",function(n){t.initTable(e.obj)}),n.on("end",function(n){t.initTable(e.obj)}),t.polylineEditor=n}),i.addItem("编辑",function(e){"3"!==t.type&&(t.polylineEditor=t.maps[t.activeIndex].polylineEditor,t.maps[t.activeIndex].polylineEditor.open()),t.initTable(t.maps[t.activeIndex].example)},0),i.addItem("删除",function(){l.remove(t.maps[t.activeIndex].example),t.maps[t.activeIndex].isDel=!0,t.editData()},1),t.maps.push({data:t.tableData,example:e.obj,polylineEditor:n})}),l.on("click",o),this.map=l},methods:{handleOpen:function(t,e){this.maps.length>0&&this.editData(),this["maps".concat(this.type)]=this.maps,this.map.clearMap(),this.type=t,this.maps=this["maps".concat(this.type)],this.polylineEditor="",this.index=this.maps.length,this.index>0&&this.initMap()},handleClose:function(t,e){console.log(t,e)},marker:function(){3==this.type?this.mouseTool.marker({}):this.mouseTool.polygon({strokeColor:"#FF33FF",strokeWeight:2,strokeOpacity:.4,fillOpacity:0,fillColor:"#fff",strokeStyle:"dashed",zIndex:50}),this.polylineEditor&&this.editData()},handleDelete:function(t,e){this.tableData.splice(e,1),"3"===this.type?t.example.setMap(null):t.example.setPath(this.tableData.map(function(t){return[t.lng,t.lat]}))},editData:function(){this.polylineEditor&&this.polylineEditor.close(),this.tableData=[]},initMap:function(){this.map.add(this.maps.filter(function(t){return!t.isDel}).map(function(t){return t.example}))},initTable:function(t){var e;e="3"===this.type?[t.getPosition()]:t.getPath(),this.tableData=e.map(function(e){return{lng:e.lng,lngdu:"".concat(e.lng).split(".")[0],lngfen:(60*parseFloat("0."+"".concat(e.lng).split(".")[1])).toFixed(3),lat:e.lat,latdu:"".concat(e.lat).split(".")[0],latfen:(60*parseFloat("0."+"".concat(e.lat).split(".")[1])).toFixed(3),isSet:!1,example:t}})},handleEait:function(t,e){console.log(t.marker),t.isSet&&(t.lan=parseInt(t.lngdu)+parseFloat(t.lngfen)/60,t.lat=parseInt(t.latdu)+parseFloat(t.latfen)/60,"3"===this.type?(console.log(t.example),t.example.setPosition([t.lng,t.lat])):t.example.setPath(this.tableData.map(function(t){return[t.lng,t.lat]}))),t.isSet=!t.isSet},rule:function(){},measureArea:function(){console.log(2),this.mouseTool.measureArea({strokeColor:"#80d8ff",fillColor:"#80d8ff",fillOpacity:.3})},close:function(){this.mouseTool.close(!0),this.overlays=[]}}},c=r,p=(n("eadb"),n("305e")),d=Object(p["a"])(c,l,a,!1,null,null,null);e["default"]=d.exports},eadb:function(t,e,n){"use strict";var l=n("0ccd"),a=n.n(l);a.a}}]);