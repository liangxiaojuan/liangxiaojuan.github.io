(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-321f4a58"],{"0ccd":function(t,e,n){},"2a45":function(t,e,n){"use strict";var a=String.prototype.replace,o=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return a.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},4419:function(t,e,n){"use strict";var a=n("efb2"),o=n("2a45"),i={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},r=Date.prototype.toISOString,l={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(t){return r.call(t)},skipNulls:!1,strictNullHandling:!1},s=function t(e,n,o,i,r,s,c,d,u,f,p,m){var v=e;if("function"===typeof c)v=c(n,v);else if(v instanceof Date)v=f(v);else if(null===v){if(i)return s&&!m?s(n,l.encoder):n;v=""}if("string"===typeof v||"number"===typeof v||"boolean"===typeof v||a.isBuffer(v)){if(s){var h=m?n:s(n,l.encoder);return[p(h)+"="+p(s(v,l.encoder))]}return[p(n)+"="+p(String(v))]}var y,b=[];if("undefined"===typeof v)return b;if(Array.isArray(c))y=c;else{var g=Object.keys(v);y=d?g.sort(d):g}for(var x=0;x<y.length;++x){var _=y[x];r&&null===v[_]||(b=Array.isArray(v)?b.concat(t(v[_],o(n,_),o,i,r,s,c,d,u,f,p,m)):b.concat(t(v[_],n+(u?"."+_:"["+_+"]"),o,i,r,s,c,d,u,f,p,m)))}return b};t.exports=function(t,e){var n=t,r=e?a.assign({},e):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!==typeof r.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof r.delimiter?l.delimiter:r.delimiter,d="boolean"===typeof r.strictNullHandling?r.strictNullHandling:l.strictNullHandling,u="boolean"===typeof r.skipNulls?r.skipNulls:l.skipNulls,f="boolean"===typeof r.encode?r.encode:l.encode,p="function"===typeof r.encoder?r.encoder:l.encoder,m="function"===typeof r.sort?r.sort:null,v="undefined"!==typeof r.allowDots&&r.allowDots,h="function"===typeof r.serializeDate?r.serializeDate:l.serializeDate,y="boolean"===typeof r.encodeValuesOnly?r.encodeValuesOnly:l.encodeValuesOnly;if("undefined"===typeof r.format)r.format=o["default"];else if(!Object.prototype.hasOwnProperty.call(o.formatters,r.format))throw new TypeError("Unknown format option provided.");var b,g,x=o.formatters[r.format];"function"===typeof r.filter?(g=r.filter,n=g("",n)):Array.isArray(r.filter)&&(g=r.filter,b=g);var _,w=[];if("object"!==typeof n||null===n)return"";_=r.arrayFormat in i?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var j=i[_];b||(b=Object.keys(n)),m&&b.sort(m);for(var k=0;k<b.length;++k){var A=b[k];u&&null===n[A]||(w=w.concat(s(n[A],A,j,d,u,f?p:null,g,m,v,h,x,y)))}var C=w.join(c),O=!0===r.addQueryPrefix?"?":"";return C.length>0?O+C:""}},"54f4":function(t,e,n){"use strict";var a=n("efb2"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:a.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},r=function(t,e){for(var n={},a=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,r=e.parameterLimit===1/0?void 0:e.parameterLimit,l=a.split(e.delimiter,r),s=0;s<l.length;++s){var c,d,u=l[s],f=u.indexOf("]="),p=-1===f?u.indexOf("="):f+1;-1===p?(c=e.decoder(u,i.decoder),d=e.strictNullHandling?null:""):(c=e.decoder(u.slice(0,p),i.decoder),d=e.decoder(u.slice(p+1),i.decoder)),o.call(n,c)?n[c]=[].concat(n[c]).concat(d):n[c]=d}return n},l=function(t,e,n){for(var a=e,o=t.length-1;o>=0;--o){var i,r=t[o];if("[]"===r)i=[],i=i.concat(a);else{i=n.plainObjects?Object.create(null):{};var l="["===r.charAt(0)&&"]"===r.charAt(r.length-1)?r.slice(1,-1):r,s=parseInt(l,10);!isNaN(s)&&r!==l&&String(s)===l&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(i=[],i[s]=a):i[l]=a}a=i}return a},s=function(t,e,n){if(t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/,r=/(\[[^[\]]*])/g,s=i.exec(a),c=s?a.slice(0,s.index):a,d=[];if(c){if(!n.plainObjects&&o.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}var u=0;while(null!==(s=r.exec(a))&&u<n.depth){if(u+=1,!n.plainObjects&&o.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(s[1])}return s&&d.push("["+a.slice(s.index)+"]"),l(d,e,n)}};t.exports=function(t,e){var n=e?a.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!==typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"===typeof n.delimiter||a.isRegExp(n.delimiter)?n.delimiter:i.delimiter,n.depth="number"===typeof n.depth?n.depth:i.depth,n.arrayLimit="number"===typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"===typeof n.decoder?n.decoder:i.decoder,n.allowDots="boolean"===typeof n.allowDots?n.allowDots:i.allowDots,n.plainObjects="boolean"===typeof n.plainObjects?n.plainObjects:i.plainObjects,n.allowPrototypes="boolean"===typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,n.parameterLimit="number"===typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,n.strictNullHandling="boolean"===typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,""===t||null===t||"undefined"===typeof t)return n.plainObjects?Object.create(null):{};for(var o="string"===typeof t?r(t,n):t,l=n.plainObjects?Object.create(null):{},c=Object.keys(o),d=0;d<c.length;++d){var u=c[d],f=s(u,o[u],n);l=a.merge(l,f,n)}return a.compact(l)}},"612f":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"reclamationAdd",function(){return y}),n.d(a,"reclamationUpdate",function(){return b}),n.d(a,"findReclamationList",function(){return g}),n.d(a,"reclamationDelete",function(){return x}),n.d(a,"reclamationGet",function(){return _}),n.d(a,"sealineAdd",function(){return w}),n.d(a,"sealineUpdate",function(){return j}),n.d(a,"findsealineList",function(){return k}),n.d(a,"sealineDelete",function(){return A}),n.d(a,"sealineGet",function(){return C}),n.d(a,"seaareaAdd",function(){return O}),n.d(a,"seaareaUpdate",function(){return D}),n.d(a,"findseaareaList",function(){return M}),n.d(a,"seaareaDelete",function(){return E}),n.d(a,"seaareaGet",function(){return I}),n.d(a,"islandAdd",function(){return L}),n.d(a,"islandUpdate",function(){return S}),n.d(a,"findIslandList",function(){return P}),n.d(a,"islandDelete",function(){return F}),n.d(a,"islandGet",function(){return N}),n.d(a,"islandMax",function(){return z}),n.d(a,"islandMin",function(){return R}),n.d(a,"islandStatistics",function(){return T});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-box"},[n("div",{attrs:{id:"container"}}),t._v(" "),t.overlays.length>0?n("div",{staticClass:"info"},[t._v("你选择的坐标组为"+t._s(t.overlays))]):t._e(),t._v(" "),n("el-button-group",{staticClass:"button-group"},[n("el-button",{attrs:{icon:"el-icon-edit"},on:{click:t.marker}},[t._v("新增")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-share"},on:{click:function(e){return t.findResourcesList(!0)}}},[t._v("资源列表")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-delete",id:"clear"},on:{click:function(e){t.show=!1,t.show1=!1,t.close()}}},[t._v("资源管理")])],1),t._v(" "),n("el-menu",{staticClass:"el-menu-vertical",attrs:{"default-active":"1","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleOpen,close:t.handleClose}},[n("el-menu-item",{attrs:{index:"1"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("海岛资源")])]),t._v(" "),n("el-menu-item",{attrs:{index:"2"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("海域功能区划")])]),t._v(" "),n("el-menu-item",{attrs:{index:"3"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("存量围填海")])]),t._v(" "),n("el-menu-item",{attrs:{index:"4"}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v("海岸线")])])],1),t._v(" "),t.tableData.length>0?n("el-card",{staticClass:"box-card_resources"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("资源位置编辑")])]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"mini",height:"250px","cell-style":t.cellStyle}},[n("el-table-column",{attrs:{type:"index",label:"编号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"lng",label:"北纬"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isSet?n("div",{staticClass:"lng-div"},[n("el-input",{attrs:{size:"mini",width:"20px"},model:{value:e.row.lngdu,callback:function(n){t.$set(e.row,"lngdu",n)},expression:"scope.row.lngdu"}}),t._v("°\n            "),n("el-input",{attrs:{size:"mini"},model:{value:e.row.lngfen,callback:function(n){t.$set(e.row,"lngfen",n)},expression:"scope.row.lngfen"}}),t._v("′\n          ")],1):n("div",{staticClass:"lng-div"},[t._v("\n            "+t._s(e.row.lngdu)+"°\n            "+t._s(e.row.lngfen)+"′\n          ")])]}}],null,!1,856279285)}),t._v(" "),n("el-table-column",{attrs:{prop:"lat",label:"东经"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isSet?n("div",{staticClass:"lng-div"},[n("el-input",{attrs:{size:"mini",width:"20px"},model:{value:e.row.latdu,callback:function(n){t.$set(e.row,"latdu",n)},expression:"scope.row.latdu"}}),t._v("°\n            "),n("el-input",{attrs:{size:"mini"},model:{value:e.row.latfen,callback:function(n){t.$set(e.row,"latfen",n)},expression:"scope.row.latfen"}}),t._v("′\n          ")],1):n("div",{staticClass:"lng-div"},[t._v("\n            "+t._s(e.row.latdu)+"°\n            "+t._s(e.row.latfen)+"′\n          ")])]}}],null,!1,3386320245)}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"操作",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleEait(e.row,e.$index)}}},[t._v(t._s(e.row.isSet?"完成":"编辑"))]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDelete(e.row,e.$index)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:t.save}},[t._v("保存")])]}}],null,!1,3757572734)})],1)],1):t._e(),t._v(" "),t.card_resources&&t.card_resources_table.length>0?n("el-card",{staticClass:"box-card_resources"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("资源列表")])]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.card_resources_table,size:"mini",height:"250px","cell-style":t.cellStyle}},[n("el-table-column",{attrs:{prop:"name",label:"资源名"}}),t._v(" "),"2"===t.type||"1"===t.type?n("el-table-column",{attrs:{prop:"area",label:"面积"}}):t._e(),t._v(" "),n("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.resourcesEait(e.row,e.$index)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.resourceDelete(e.row,e.$index)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:t.editData}},[t._v("查看")])]}}],null,!1,4163414727)})],1)],1):t._e(),t._v(" "),t.card_statistics?n("el-card",{staticClass:"box-card_statistics"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("资源内容编辑")])]),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"box"},[n("div",{staticClass:"number"},[t._v("31231")]),t._v(" "),n("div",{staticClass:"text"},[t._v("海岛总数")])]),t._v(" "),n("div",{staticClass:"box"},[n("div",{staticClass:"number"},[t._v("131231")]),t._v(" "),n("div",{staticClass:"text"},[t._v("海岛总面积")])])]),t._v(" "),n("div",{staticClass:"content-proportion"},[n("div",[n("div",[t._v("123")]),t._v(" "),n("div",[t._v("总面积")])]),t._v(" "),n("div",[n("el-progress",{attrs:{type:"circle",percentage:25}})],1),t._v(" "),n("div",[n("div",[t._v("18.96%")]),t._v(" "),n("div",[t._v("占比")])])])]):t._e(),t._v(" "),t.card_form?n("el-card",{staticClass:"box-card_form"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("资源内容编辑")])]),t._v(" "),n("div",{staticClass:"content"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"资源名称"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),"1"===t.type?n("el-form-item",{attrs:{label:"用途"}},[n("el-input",{model:{value:t.form.useFor,callback:function(e){t.$set(t.form,"useFor",e)},expression:"form.useFor"}})],1):t._e(),t._v(" "),"1"===t.type?n("el-form-item",{attrs:{label:"用岛年限"}},[n("el-input",{model:{value:t.form.useAgeLimit,callback:function(e){t.$set(t.form,"useAgeLimit",e)},expression:"form.useAgeLimit"}})],1):t._e(),t._v(" "),n("el-form-item",[t.idEdit?n("el-button",{attrs:{type:"primary"},on:{click:t.resourcesUpdate}},[t._v("修改")]):n("el-button",{attrs:{type:"primary"},on:{click:t.resourcesAdd}},[t._v("创建")]),t._v(" "),n("el-button",{on:{click:function(e){t.card_form=!1}}},[t._v("取消")])],1)],1)],1)]):t._e(),t._v(" "),n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"80%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"地址"}})],1),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)],1)},i=[],r=(n("9ab5"),n("81a9"),n("728c"),n("8f9b")),l=n.n(r),s=n("3ec5"),c=n.n(s),d=(n("8fee"),n("dbab"));c.a.defaults.timeout=3e4;var u=function(t){return new Promise(function(e,n){var a=c.a.create({headers:{},withCredentials:!0});a(t).then(function(t){var a=t.data;switch(console.log(a),a.code){case"200":e(a.data);break;case 200:e(a.data);break;default:n(new Error("请求异常"))}}).catch(function(t){"ECONNABORTED"===t.code&&(t.message="网络请求超时"),n(t)})})},f=function(t,e,n){var a=t,o=d.stringify(e),i=Object.assign({url:a,method:"post",data:o,withCredentials:!0},n);return u(i)},p=function(t,e,n){var a=t,o=e||{},i=Object.assign({url:a,method:"get",params:o,withCredentials:!0},n);return u(i)},m=function(t){var e={method:"post",data:{}};console.log(t);var n=Object.assign({},e,t);return n.url=n.url,n.params,u(n)},v={post:f,get:p,ajax:m},h="http://140.143.220.48",y=function(t){return v.ajax({url:"".concat(h,"/reclamation/add"),method:"post",data:t})},b=function(t){return v.ajax({url:"".concat(h,"/reclamation/update"),method:"post",data:t})},g=function(t){return v.ajax({url:"".concat(h,"/reclamation/list"),method:"get",params:t})},x=function(t){return v.ajax({url:"".concat(h,"/reclamation/delete/").concat(t.id),method:"get"})},_=function(t){return v.ajax({url:"".concat(h,"/reclamation/get/").concat(t.id),method:"get"})},w=function(t){return v.ajax({url:"".concat(h,"/sealine/add"),method:"post",data:t})},j=function(t){return v.ajax({url:"".concat(h,"/sealine/update"),method:"post",data:t})},k=function(t){return v.ajax({url:"".concat(h,"/sealine/list"),method:"get",params:t})},A=function(t){return v.ajax({url:"".concat(h,"/sealine/delete/").concat(t.id),method:"get"})},C=function(t){return v.ajax({url:"".concat(h,"/sealine/get/").concat(t.id),method:"get"})},O=function(t){return v.ajax({url:"".concat(h,"/seaarea/add"),method:"post",data:t})},D=function(t){return v.ajax({url:"".concat(h,"/seaarea/update"),method:"post",data:t})},M=function(t){return v.ajax({url:"".concat(h,"/seaarea/list"),method:"get",params:t})},E=function(t){return v.ajax({url:"".concat(h,"/seaarea/delete/").concat(t.id),method:"get"})},I=function(t){return v.ajax({url:"".concat(h,"/seaarea/get/").concat(t.id),method:"get"})},L=function(t){return v.ajax({url:"".concat(h,"/island/add"),method:"post",data:t})},S=function(t){return v.ajax({url:"".concat(h,"/island/update"),method:"post",data:t})},P=function(t){return v.ajax({url:"".concat(h,"/island/list"),method:"get",params:t})},F=function(t){return v.ajax({url:"".concat(h,"/island/delete/").concat(t.id),method:"get"})},N=function(t){return v.ajax({url:"".concat(h,"/island/get/").concat(t.id),method:"get"})},z=function(t){return v.ajax({url:"".concat(h,"/island/get/max"),method:"get"})},R=function(t){return v.ajax({url:"".concat(h,"/island/get/min"),method:"get"})},T=function(t){return v.ajax({url:"".concat(h,"/island/get/statistics"),method:"get"})},$=new l.a.AMapManager,U={name:"Documentation",data:function(){return{amapManager:$,zoom:12,type:"1",show:!1,show1:!1,overlays:[],cellStyle:{height:"20px",padding:"5px 0"},map:"",polylineEditor:"",tableData:[],mouseTool:"",form:{gps:"",island_area:""},maps:[],maps1:[],maps2:[],maps3:[],maps4:[],index:0,card_form:!1,card_resources:!1,card_resources_table:[],card_statistics:!1,center:[121.5273285,31.21515044],activeIndex:0,contextMenu:"",dialogVisible:!1,idEdit:!1}},mounted:function(){var t=this,e=new AMap.Scale({visible:!0}),n=(new AMap.ToolBar({visible:!0}),new AMap.OverView({visible:!0})),a=new AMap.Map("container",{center:[109.667664,19.136931],zoom:9,resizeEnable:!0});a.addControl(e),a.addControl(n);var o=new AMap.MouseTool(a);this.mouseTool=o,console.log(a);var i=[];o.on("draw",function(t){i.push(t.obj)});var r=new AMap.ContextMenu;function l(t){}AMap.event.addListener(o,"draw",function(e){var n;e.obj.index=t.index,t.activeIndex=t.index,t.index++,t.initTable(e.obj),e.obj.on("rightclick",function(e){r.open(a,e.lnglat),t.polylineEditor&&t.editData(),t.activeIndex=e.target.index}),e.obj.on("click",function(t){console.log(t)}),o.close(),"3"!==t.type&&t.map.plugin(["AMap.PolyEditor"],function(){n=new AMap.PolyEditor(t.map,e.obj),n.open(),t.map.setCenter(e.obj.getPath()[0]),n.on("adjust",function(n){t.initTable(e.obj)}),n.on("end",function(n){t.initTable(e.obj)}),t.polylineEditor=n}),r.addItem("编辑",function(e){"3"!==t.type&&(t.polylineEditor=t.maps[t.activeIndex].polylineEditor,t.maps[t.activeIndex].polylineEditor.open()),t.initTable(t.maps[t.activeIndex].example)},0),r.addItem("删除",function(){a.remove(t.maps[t.activeIndex].example),t.maps[t.activeIndex].isDel=!0,t.editData()},1),t.maps.push({data:t.tableData,example:e.obj,polylineEditor:n})}),a.on("click",l),this.map=a,this.findResourcesList(!0)},methods:{handleOpen:function(t,e){this.map.clearMap(),this.tableData=[],this.card_form=!1,this.card_resources=!1,this.card_statistics=!1,this.type=t,this.findResourcesList()},openInfoWindow:function(t,e){var n=this;console.log(11111);var a=new AMap.Marker({map:this.map,position:JSON.parse(e.gps)[0]}),o="max"===t?"大":"小";window.closeInfoWindow=function(){n.map.clearInfoWindow()};var i='\n    <div class="card">\n      <div class="header" onclick="window.closeInfoWindow()">\n        <span class="title">最'.concat(o,"的岛-").concat(e.name,'</span>\n        <img  class="close" src="https://webapi.amap.com/images/close2.gif" alt="">\n      </div>\n      <div class="content">\n        <img class="img" src="http://tpc.googlesyndication.com/simgad/5843493769827749134" alt="">\n        <p class="text">在海南临高县新盈镇的后水湾，有一个闻名遐迩的岛屿--邻昌岛。整座岛以灰黑色的石灰岩错落堆积而成，故又称之为邻昌礁…</p>\n      </div>\n      <div class="footer">\n        <div class="right">\n          <div class="text">海岛名称</div>\n          <div class="text">面积</div>\n          <div class="text">用途</div>\n        </div>\n        <div class="left">\n              <div class="text">').concat(e.name,'</div>\n          <div class="text">').concat(e.area,'</div>\n          <div class="text">').concat(e.useFor,'</div>\n        </div>\n        <div class="right">\n              <div class="text">用岛年限</div>\n          <div class="text">海岛</div>\n          <div class="text">海岛</div>\n        </div>\n        <div class="left">\n              <div class="text">').concat(e.useAgeLimit,'</div>\n          <div class="text">').concat(e.name,'</div>\n          <div class="text">').concat(e.name,"</div>\n        </div>\n      </div>\n    </div>\n      "),r=new AMap.InfoWindow({isCustom:!0,content:i,offset:new AMap.Pixel(16,-45)});a.on("click",function(t){n.map.clearInfoWindow(),r.open(n.map,a.getPosition()),n.map.setCenter(a.getPosition())}),r.open(this.map,a.getPosition())},closeInfoWindow:function(){},resourcesEait:function(t){this.form=t,this.card_form=!0,this.idEdit=!0},polygonAdd:function(t,e){var n=this,a=new AMap.Polygon({path:t,strokeColor:"#FF33FF",strokeWeight:2,strokeOpacity:.4,fillOpacity:0,fillColor:"#fff",strokeStyle:"dashed",zIndex:50}),o=new AMap.ContextMenu;o.addItem("编辑",function(){n.resourcesGet(e,a)},0),o.addItem("删除",function(){},1),a.on("rightclick",function(t){o.open(n.map,t.lnglat)}),this.map.add(a)},polylineAdd:function(t,e){var n=this;console.log(t);var a=new AMap.Polyline({path:t,borderWeight:2,strokeColor:"red",lineJoin:"round"}),o=new AMap.ContextMenu;o.addItem("编辑",function(){n.resourcesGet(e,a)},0),o.addItem("删除",function(){},1),a.on("rightclick",function(t){o.open(n.map,t.lnglat)}),this.map.add(a)},markerAdd:function(t,e){var n=this;console.log(t);var a=new AMap.Marker({position:t[0],borderWeight:2,strokeColor:"red",lineJoin:"round"}),o=new AMap.ContextMenu;o.addItem("编辑",function(){n.resourcesGet(e,a)},0),o.addItem("删除",function(){},1),a.on("rightclick",function(t){o.open(n.map,t.lnglat)}),this.map.add(a)},handleClose:function(t,e){console.log(t,e)},findMaxMin:function(){var t=this;R().then(function(e){t.openInfoWindow("min",e)}).catch(function(t){}),z().then(function(e){t.openInfoWindow("max",e)}).catch(function(t){})},resourcesAdd:function(){var t=this,e=["","islandAdd","seaareaAdd","reclamationAdd","sealineAdd"];a[e[this.type]](this.form).then(function(e){t.$message({message:"创建资源成功",type:"success"}),t.findResourcesList(!0),t.card_form=!1,t.tableData=[]}).catch(function(t){})},resourcesUpdate:function(){var t=this,e=["","islandUpdate","seaareaUpdate","reclamationUpdate","sealineUpdate"];a[e[this.type]](this.form).then(function(e){t.findResourcesList(!0),t.card_form=!1,t.tableData=[],t.$message({message:"修改资源成功",type:"success"})}).catch(function(t){})},resourcesGet:function(t,e){var n=this;this.card_resources=!1;var o=["","islandGet","seaareaGet","reclamationGet","sealineGet"];a[o[this.type]](t).then(function(t){n.form=t,n.idEdit=!0,n.initTable(e)}).catch(function(t){});var i=new AMap.PolyEditor(this.map,e);i.on("adjust",function(t){n.initTable(e)}),i.on("end",function(t){n.initTable(e)}),i.open()},findResourcesList:function(t){var e=this;this.tableData=[];var n=["","findIslandList","findseaareaList","findReclamationList","findsealineList"];a[n[this.type]]().then(function(n){e.close(),e.card_resources=t||!1,e.card_resources_table=n,t&&"1"===e.type&&e.findMaxMin(),"4"===e.type?n.forEach(function(t){e.polylineAdd(JSON.parse(t.gps),t)}):"3"===e.type?n.forEach(function(t){e.markerAdd(JSON.parse(t.gps),t)}):n.forEach(function(t){e.polygonAdd(JSON.parse(t.gps),t)})}).catch(function(t){})},resourceDelete:function(t){var e=this,n=["","islandDelete","seaareaDelete","reclamationDelete","sealineDelete"];a[n[this.type]](t).then(function(t){e.$message({message:"删除资源成功",type:"success"}),e.findResourcesList(!0)}).catch(function(t){})},Delete:function(t){var e=this;islandDelete({id:t.id}).then(function(t){console.log(t),e.findIslandList()}).catch(function(t){})},save:function(t){var e=this.tableData.map(function(t){return[t.lng,t.lat]}),n=AMap.GeometryUtil.ringArea(e);this.form.gps=JSON.stringify(e),this.form.area=n,this.idEdit?this.resourcesUpdate():this.card_form=!0},marker:function(){3==this.type?this.mouseTool.marker({}):4==this.type?this.mouseTool.polyline({strokeColor:"#80d8ff"}):this.mouseTool.polygon({strokeColor:"#FF33FF",strokeWeight:2,strokeOpacity:.4,fillOpacity:0,fillColor:"#fff",strokeStyle:"dashed",zIndex:50}),this.card_resources=!1,this.idEdit=!1,this.form={},this.polylineEditor&&this.editData()},handleDelete:function(t,e){this.tableData.splice(e,1),"3"===this.type?t.example.setMap(null):t.example.setPath(this.tableData.map(function(t){return[t.lng,t.lat]}))},editData:function(){this.polylineEditor&&this.polylineEditor.close(),this.tableData=[]},initMap:function(){this.map.add(this.maps.filter(function(t){return!t.isDel}).map(function(t){return t.example}))},initTable:function(t){var e;e="3"===this.type?[t.getPosition()]:t.getPath(),this.tableData=e.map(function(e){return{lng:e.lng,lngdu:"".concat(e.lng).split(".")[0],lngfen:(60*parseFloat("0."+"".concat(e.lng).split(".")[1])).toFixed(3),lat:e.lat,latdu:"".concat(e.lat).split(".")[0],latfen:(60*parseFloat("0."+"".concat(e.lat).split(".")[1])).toFixed(3),isSet:!1,example:t}})},handleEait:function(t,e){console.log(t.marker),t.isSet&&(t.lan=parseInt(t.lngdu)+parseFloat(t.lngfen)/60,t.lat=parseInt(t.latdu)+parseFloat(t.latfen)/60,"3"===this.type?(console.log(t.example),t.example.setPosition([t.lng,t.lat])):t.example.setPath(this.tableData.map(function(t){return[t.lng,t.lat]}))),t.isSet=!t.isSet},rule:function(){},measureArea:function(){this.mouseTool.measureArea({strokeColor:"#80d8ff",fillColor:"#80d8ff",fillOpacity:.3})},close:function(){this.tableData=[],this.map.clearMap()}}},G=U,W=(n("eadb"),n("305e")),H=Object(W["a"])(G,o,i,!1,null,null,null);e["default"]=H.exports},dbab:function(t,e,n){"use strict";var a=n("4419"),o=n("54f4"),i=n("2a45");t.exports={formats:i,parse:o,stringify:a}},eadb:function(t,e,n){"use strict";var a=n("0ccd"),o=n.n(a);o.a},efb2:function(t,e,n){"use strict";var a=Object.prototype.hasOwnProperty,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),i=function(t){var e;while(t.length){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var a=[],o=0;o<e.length;++o)"undefined"!==typeof e[o]&&a.push(e[o]);n.obj[n.prop]=a}}return e},r=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},a=0;a<t.length;++a)"undefined"!==typeof t[a]&&(n[a]=t[a]);return n},l=function t(e,n,o){if(!n)return e;if("object"!==typeof n){if(Array.isArray(e))e.push(n);else{if("object"!==typeof e)return[e,n];(o.plainObjects||o.allowPrototypes||!a.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!==typeof e)return[e].concat(n);var i=e;return Array.isArray(e)&&!Array.isArray(n)&&(i=r(e,o)),Array.isArray(e)&&Array.isArray(n)?(n.forEach(function(n,i){a.call(e,i)?e[i]&&"object"===typeof e[i]?e[i]=t(e[i],n,o):e.push(n):e[i]=n}),e):Object.keys(n).reduce(function(e,i){var r=n[i];return a.call(e,i)?e[i]=t(e[i],r,o):e[i]=r,e},i)},s=function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},c=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},d=function(t){if(0===t.length)return t;for(var e="string"===typeof t?t:String(t),n="",a=0;a<e.length;++a){var i=e.charCodeAt(a);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=e.charAt(a):i<128?n+=o[i]:i<2048?n+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?n+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(a+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(a)),n+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return n},u=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],a=0;a<e.length;++a)for(var o=e[a],r=o.obj[o.prop],l=Object.keys(r),s=0;s<l.length;++s){var c=l[s],d=r[c];"object"===typeof d&&null!==d&&-1===n.indexOf(d)&&(e.push({obj:r,prop:c}),n.push(d))}return i(e)},f=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},p=function(t){return null!==t&&"undefined"!==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};t.exports={arrayToObject:r,assign:s,compact:u,decode:c,encode:d,isBuffer:p,isRegExp:f,merge:l}}}]);